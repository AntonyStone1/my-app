{"version":3,"sources":["components/Auth/Auth.module.css","components/Router/UserDataProvider.js","hooks/userUserData/useUserData.js","components/UserPage/UserPage.js","components/UserList/UserList.js","utils/localStorage.js","hooks/useAuth/useAuth.js","components/Auth/Auth.js","components/UserList/UserListHeading.js","components/UserPage/UserPageHeading.js","components/Router/SessionRequired.js","components/Router/Routing.js","index.js"],"names":["module","exports","UserContext","React","createContext","UserDataProvider","children","useState","userData","setUserData","isLoaded","setLoaded","Provider","value","useUserData","context","useContext","undefined","Error","UserPage","disable","setDisable","history","useHistory","name","company","website","inputValue","setInputValue","id","useParams","currentUser","find","user","console","log","useEffect","fetch","method","headers","then","response","json","prev","toggleButton","handleValue","e","target","className","onClick","push","pathname","stopPropagation","htmlFor","onChange","type","disabled","axios","put","data","JSON","stringify","map","UserList","show","handleClick","index","getItem","localStorage","authContext","ProvideAuth","auth","isAuth","setAuth","password","setUser","haveAccount","setAccount","logIn","userName","pass","signIn","setItem","logOut","useProvideAuth","useAuth","NewAuth","useForm","register","handleSubmit","errors","formState","wrongPass","setWrongPass","eyeActive","setEyeActive","inputType","location","useLocation","eyeClickHandle","changeHandler","to","AuthCSS","auth_heading","form_container","auth_label","autoComplete","auth_input","pass_eye__close","pass_eye__open","auth_required","auth_login_btn","no_acc__heading","no_acc__link","onSubmit","required","maxLength","minLength","pattern","auth_submit_btn","UserListHeading","UserPageHeading","SessionRequired","Routing","get","exact","path","render","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.806cfd2c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_container\":\"Auth_form_container__2Y85I\",\"auth_heading\":\"Auth_auth_heading__Rhc_g\",\"auth_required\":\"Auth_auth_required__2V3HO\",\"auth_input\":\"Auth_auth_input__25e7L\",\"auth_login_btn\":\"Auth_auth_login_btn__1sBGp\",\"auth_label\":\"Auth_auth_label__1oIE2\",\"auth_submit_btn\":\"Auth_auth_submit_btn__BLcGG\",\"no_acc__heading\":\"Auth_no_acc__heading__39GKi\",\"no_acc__link\":\"Auth_no_acc__link__1ZDfB\",\"pass_eye__open\":\"Auth_pass_eye__open__2ds_p\",\"pass_eye__close\":\"Auth_pass_eye__close__18ms_\"};","import React, { useState } from 'react'\r\n\r\nexport const UserContext = React.createContext()\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport function UserDataProvider({ children }) {\r\n  const [userData, setUserData] = useState([])\r\n  const [isLoaded, setLoaded] = useState(false)\r\n\r\n  return (\r\n    <UserContext.Provider value={{ userData, setUserData, isLoaded, setLoaded }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { UserContext } from '../../components/Router/UserDataProvider'\r\n\r\nfunction useUserData() {\r\n  const context = React.useContext(UserContext)\r\n  if (context === undefined) {\r\n    throw new Error('useUserData must be used within a CountProvider')\r\n  }\r\n  return context\r\n}\r\n\r\nexport default useUserData\r\n","import React, { useState } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { useEffect } from 'react/cjs/react.development'\r\nimport axios from '../../../node_modules/axios/index'\r\nimport useUserData from '../../hooks/userUserData/useUserData'\r\n\r\nconst UserPage = () => {\r\n  const [disable, setDisable] = useState(true)\r\n  const { userData, setUserData, isLoaded, setLoaded } = useUserData()\r\n  const history = useHistory()\r\n  const [inputValue, setInputValue] = useState({\r\n    name: '',\r\n    company: {\r\n      name: '',\r\n    },\r\n    website: '',\r\n  })\r\n  const { id } = useParams()\r\n  const currentUser = userData.find((user) => user.id === +id)\r\n  console.log(currentUser)\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      setInputValue(userData.find((user) => user.id === +id))\r\n    } else {\r\n      fetch(`https://jsonplaceholder.typicode.com/users/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-type': 'application/json; charset=UTF-8',\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          setInputValue(json)\r\n          setLoaded((prev) => !prev)\r\n        })\r\n    }\r\n  }, [])\r\n\r\n  const handleStopPropag = (e) => {\r\n    e.stopPropagation()\r\n  }\r\n\r\n  const toggleButton = () => {\r\n    setDisable((prev) => !prev)\r\n  }\r\n\r\n  const handleValue = (e) => {\r\n    setInputValue((prev) =>\r\n      e.target.name !== 'company'\r\n        ? { ...prev, [e.target.name]: e.target.value }\r\n        : { ...prev, company: { name: e.target.value } },\r\n    )\r\n  }\r\n\r\n  const closeHandle = () => {\r\n    history.push({\r\n      pathname: `/home/`,\r\n    })\r\n  }\r\n  console.log(1)\r\n  const SendForm = () => {\r\n    axios\r\n      .put(`https://jsonplaceholder.typicode.com/users/${id}`, {\r\n        data: JSON.stringify(inputValue),\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          toggleButton()\r\n          setUserData((prev) =>\r\n            prev.map((user) => (user.id === +id ? { ...user, ...inputValue } : user)),\r\n          )\r\n        }\r\n      })\r\n  }\r\n  return (\r\n    <div className=\"user_page-container\">\r\n      <span className=\"close_btn\" onClick={closeHandle} />\r\n      <h1 className=\"user-page-heading\">Home page of {currentUser?.name}</h1>\r\n      <div className=\"user_page-item\" onClick={handleStopPropag}>\r\n        <div className=\"user_info\">\r\n          <label htmlFor=\"true\">\r\n            Full name:\r\n            <input\r\n              onChange={handleValue}\r\n              name=\"name\"\r\n              type=\"text\"\r\n              value={inputValue.name}\r\n              disabled={disable}\r\n            />\r\n          </label>\r\n          <label htmlFor=\"true\">\r\n            Company:\r\n            <input\r\n              onChange={handleValue}\r\n              name=\"company\"\r\n              type=\"text\"\r\n              value={inputValue.company.name}\r\n              disabled={disable}\r\n            />\r\n          </label>\r\n          <label htmlFor=\"true\">\r\n            Website:\r\n            <input\r\n              onChange={handleValue}\r\n              name=\"website\"\r\n              type=\"text\"\r\n              value={inputValue.website}\r\n              disabled={disable}\r\n            />\r\n          </label>\r\n          {!disable && (\r\n            <button type=\"button\" onClick={SendForm} className=\"btn user_save-btn\">\r\n              Save\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"user_edit-btns\">\r\n          <button type=\"button\" className=\"btn\" onClick={toggleButton}>\r\n            Edit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserPage\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport UserPage from '../UserPage/UserPage'\r\nimport useUserData from '../../hooks/userUserData/useUserData'\r\n\r\nconst UserList = () => {\r\n  const { userData } = useUserData()\r\n  const history = useHistory()\r\n  const [show, setShow] = useState(false)\r\n\r\n  const handleClick = (e) => {\r\n    history.push({\r\n      pathname: `/home/user/${e.target.id}`,\r\n    })\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setShow(true)\r\n  }\r\n\r\n  return userData ? (\r\n    <div className=\"user_container\">\r\n      {show.show ? (\r\n        <UserPage />\r\n      ) : (\r\n        userData.map((user, index) => (\r\n          <div key={user.id} className=\"user_item\" id={user.id} onClick={handleClick}>\r\n            <p>\r\n              {index + 1} {user.name}\r\n            </p>\r\n            <p>{user.company.name}</p>\r\n            <p>{user.website}</p>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  ) : (\r\n    <span>Loading...</span>\r\n  )\r\n}\r\n\r\nexport default UserList\r\n","export const setItem = (name, value) => localStorage.setItem(name, value)\r\n\r\nexport const getItem = (name) => localStorage.getItem(name)\r\n\r\nexport const removeKey = (name) => localStorage.removeItem(name)\r\n\r\nexport const clearLocalStorage = () => localStorage.clear()\r\n","import React, { useState, useContext, createContext } from 'react'\r\nimport { setItem, getItem } from '../../utils/localStorage'\r\n\r\nconst authContext = createContext()\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport function ProvideAuth({ children }) {\r\n  // eslint-disable-next-line no-use-before-define\r\n  const auth = useProvideAuth()\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>\r\n}\r\n\r\nexport const useAuth = () => useContext(authContext)\r\n\r\nfunction useProvideAuth() {\r\n  const [isAuth, setAuth] = useState(false)\r\n  const [user, setUser] = useState({\r\n    name: null,\r\n    password: null,\r\n  })\r\n  const [haveAccount, setAccount] = useState()\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  function logIn(userName, pass) {\r\n    if (getItem(userName) === pass) {\r\n      setUser({\r\n        name: userName,\r\n        password: pass,\r\n      })\r\n      console.log('use', isAuth)\r\n      return setAuth(true)\r\n    }\r\n  }\r\n\r\n  function signIn(userName, pass) {\r\n    if (userName && pass) {\r\n      setItem(userName, pass)\r\n      logIn(userName, pass)\r\n    }\r\n  }\r\n  function logOut() {\r\n    setAuth(false)\r\n  }\r\n\r\n  return {\r\n    user,\r\n    isAuth,\r\n    logIn,\r\n    logOut,\r\n    signIn,\r\n    setUser,\r\n    setAuth,\r\n    haveAccount,\r\n    setAccount,\r\n  }\r\n}\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport { useAuth } from 'hooks/useAuth/useAuth'\r\nimport React, { useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { Redirect, Link, useLocation } from 'react-router-dom'\r\nimport AuthCSS from './Auth.module.css'\r\n\r\nconst NewAuth = () => {\r\n  const { logIn, isAuth, signIn } = useAuth()\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm()\r\n  const [inputValue, setInputValue] = useState({\r\n    name: '',\r\n    password: '',\r\n  })\r\n\r\n  const [wrongPass, setWrongPass] = useState(false)\r\n  const [eyeActive, setEyeActive] = useState(false)\r\n  const inputType = {\r\n    password: 'password',\r\n    text: 'text',\r\n  }\r\n  const location = useLocation()\r\n\r\n  const eyeClickHandle = () => {\r\n    setEyeActive((prev) => !prev)\r\n  }\r\n  const onSubmit = (data) => signIn(data.name, data.password)\r\n  const changeHandler = (e) => {\r\n    setInputValue((prev) => ({ ...prev, [e.target.name]: e.target.value }))\r\n  }\r\n  const loginHandler = () => {\r\n    logIn(inputValue.name, inputValue.password)\r\n    if (!isAuth) {\r\n      setWrongPass(true)\r\n    }\r\n  }\r\n\r\n  if (isAuth) {\r\n    // eslint-disable-next-line react/react-in-jsx-scope\r\n    return <Redirect to=\"/home\" />\r\n  }\r\n  return (\r\n    <>\r\n      <h1 className={AuthCSS.auth_heading}>Authorization</h1>\r\n      {location.pathname === '/login' ? (\r\n        <div className={AuthCSS.form_container}>\r\n          <label className={AuthCSS.auth_label}>Name</label>\r\n          <input\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            onChange={changeHandler}\r\n            className={AuthCSS.auth_input}\r\n          />\r\n          <label className={AuthCSS.auth_label}>\r\n            Password\r\n            <span\r\n              className={!eyeActive ? AuthCSS.pass_eye__open : AuthCSS.pass_eye__close}\r\n              onClick={eyeClickHandle}\r\n            />\r\n            <input\r\n              name=\"password\"\r\n              type={!eyeActive ? inputType.password : inputType.text}\r\n              onChange={changeHandler}\r\n              className={AuthCSS.auth_input}\r\n            />\r\n          </label>\r\n          {wrongPass && <p className={AuthCSS.auth_required}>Wrong name or password</p>}\r\n          <button type=\"button\" onClick={loginHandler} className={AuthCSS.auth_login_btn}>\r\n            log In\r\n          </button>\r\n\r\n          <div className={AuthCSS.no_acc__heading}>Dont have account?</div>\r\n          <div className={AuthCSS.no_acc__link}>\r\n            <Link to=\"/registration\">Sign Up</Link>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <form onSubmit={handleSubmit(onSubmit)} className={AuthCSS.form_container}>\r\n          <label className={AuthCSS.auth_label}>Name</label>\r\n          <input\r\n            {...register('name', {\r\n              required: true,\r\n              maxLength: 20,\r\n              minLength: 3,\r\n              pattern: /^[A-Za-z]+$/i,\r\n            })}\r\n            autoComplete=\"off\"\r\n            className={AuthCSS.auth_input}\r\n          />\r\n          {errors?.name?.type === 'required' && (\r\n            <p className={AuthCSS.auth_required}>This field is required</p>\r\n          )}\r\n          {errors?.name?.type === 'maxLength' && (\r\n            <p className={AuthCSS.auth_required}>First name cannot exceed 20 characters</p>\r\n          )}\r\n          {errors?.name?.type === 'minLength' && (\r\n            <p className={AuthCSS.auth_required}>Password must be at least 3 characters long</p>\r\n          )}\r\n          {errors?.name?.type === 'pattern' && (\r\n            <p className={AuthCSS.auth_required}>Alphabetical characters only</p>\r\n          )}\r\n          <label className={AuthCSS.auth_label}>\r\n            Password\r\n            <span\r\n              className={!eyeActive ? AuthCSS.pass_eye__open : AuthCSS.pass_eye__close}\r\n              onClick={eyeClickHandle}\r\n            />\r\n            <input\r\n              type={!eyeActive ? inputType.password : inputType.text}\r\n              {...register('password', {\r\n                required: true,\r\n                pattern: /(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])[0-9a-zA-Z]{8,}/g,\r\n              })}\r\n              className={AuthCSS.auth_input}\r\n            />\r\n          </label>\r\n          {errors?.password?.type === 'required' && (\r\n            <p className={AuthCSS.auth_required}>This field is required</p>\r\n          )}\r\n          {errors?.password?.type === 'pattern' && (\r\n            <p className={AuthCSS.auth_required}>\r\n              Must include at least one capital letter, one number and must be at least 8 characters\r\n              long\r\n            </p>\r\n          )}\r\n\r\n          <input type=\"submit\" value=\"Sign up\" className={AuthCSS.auth_submit_btn} />\r\n        </form>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NewAuth\r\n","import React from 'react'\r\nimport { useAuth } from '../../hooks/useAuth/useAuth'\r\n\r\nfunction UserListHeading() {\r\n  const { logOut } = useAuth()\r\n  return (\r\n    <>\r\n      <div className=\"user_heading-container\">\r\n        <h1 className=\"user_headt-text\">User list</h1>\r\n        <button type=\"button\" className=\"logout_btn\" onClick={logOut}>\r\n          Log Out\r\n        </button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserListHeading\r\n","import React from 'react'\r\nimport { useAuth } from 'hooks/useAuth/useAuth'\r\n\r\nfunction UserPageHeading() {\r\n  const { logOut } = useAuth()\r\n  return (\r\n    <div className=\"user_container-heading\">\r\n      <h1>User Page</h1>\r\n      <button type=\"button\" className=\"logout_btn\" onClick={logOut}>\r\n        Log Out\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserPageHeading\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { useAuth } from '../../hooks/useAuth/useAuth'\r\nimport { getItem } from '../../utils/localStorage'\r\n\r\n// eslint-disable-next-line react/prop-types\r\nconst SessionRequired = ({ children }) => {\r\n  const { isAuth, user } = useAuth()\r\n  if (getItem(user.name) === user.password && isAuth) {\r\n    return <>{children}</>\r\n  }\r\n  return <Redirect to=\"/login\" />\r\n}\r\n\r\nexport default SessionRequired\r\n","import React, { useEffect } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\n// import Auth from 'components/Auth/Auth'\r\nimport UserList from 'components/UserList/UserList'\r\nimport UserPage from 'components/UserPage/UserPage'\r\nimport axios from 'axios'\r\nimport NewAuth from 'components/Auth/Auth'\r\nimport useUserData from '../../hooks/userUserData/useUserData'\r\nimport UserListHeading from '../UserList/UserListHeading'\r\nimport UserPageHeading from '../UserPage/UserPageHeading'\r\nimport SessionRequired from './SessionRequired'\r\n\r\nexport default function Routing() {\r\n  const { setUserData } = useUserData()\r\n  useEffect(() => {\r\n    axios\r\n      .get('https://jsonplaceholder.typicode.com/users/')\r\n      .then((response) => setUserData(response.data))\r\n  }, [])\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/login\" render={() => <NewAuth />} />\r\n        <Route path=\"/registration\" render={() => <NewAuth />} />\r\n        <SessionRequired>\r\n          <Route exact path=\"/home\">\r\n            <UserListHeading />\r\n            <UserList />\r\n          </Route>\r\n          <Route path=\"/home/user/:id\">\r\n            <UserPageHeading />\r\n            <UserPage />\r\n          </Route>\r\n        </SessionRequired>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport Routing from './components/Router/Routing'\r\nimport { UserDataProvider } from './components/Router/UserDataProvider'\r\nimport { ProvideAuth } from './hooks/useAuth/useAuth'\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <UserDataProvider>\r\n        <ProvideAuth>\r\n          <div className=\"wrapper\">\r\n            <Routing />\r\n          </div>\r\n        </ProvideAuth>\r\n      </UserDataProvider>\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}